/* * Copyright (C) 2022 HRPLUS. All rights reserved. * EcoIT. Use is subject to license terms. */package vn.com.mbbank.controllers;import java.util.List;import javax.validation.Valid;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.MediaType;import org.springframework.http.ResponseEntity;import org.springframework.security.core.Authentication;import org.springframework.web.bind.annotation.DeleteMapping;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PathVariable;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestBody;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestPart;import org.springframework.web.bind.annotation.RestController;import org.springframework.web.multipart.MultipartFile;import vn.com.mbbank.dto.WorkProcessDTO;import vn.com.mbbank.services.WorkProcessService;import vn.com.mbbank.utils.Constants;import vn.com.mbbank.utils.ResponseUtils;/** * Lop impl repository * * @author author * @since 1.0 * @version 1.0 */@RestController@RequestMapping(Constants.REQUEST_MAPPING_PREFIX)public class WorkProcessController {    @Autowired    private WorkProcessService workProcessService;    @GetMapping(value = "/v1/work-processes/employees/{employeeId}", produces = MediaType.APPLICATION_JSON_VALUE)    public ResponseEntity<Object> getListDataByEmpId(Authentication authentication,            @PathVariable Long employeeId,            WorkProcessDTO workProcessDTO    ) {        workProcessDTO.setEmployeeId(employeeId);        Object resultObj = workProcessService.getListDataByEmpId(workProcessDTO, authentication);        return ResponseUtils.getResponseSucessEntity(resultObj);    }    @PostMapping(value = "/v1/work-processes", consumes = {MediaType.APPLICATION_JSON_VALUE, MediaType.MULTIPART_FORM_DATA_VALUE})    public ResponseEntity<Object> saveData(Authentication authentication,            @RequestPart(value = "files", required = false) List<MultipartFile> files,            @Valid @RequestPart(value = "data") WorkProcessDTO workProcessDTO    ) throws Exception {        return workProcessService.saveData(workProcessDTO, authentication);    }    @DeleteMapping(value = "/v1/work-processes/{id}", produces = MediaType.APPLICATION_JSON_VALUE)    public ResponseEntity<Object> deleteData(Authentication authentication,            @PathVariable Long id    ) throws Exception {        return workProcessService.deleteData(id, authentication);    }    @GetMapping(value = "/v1/work-processes/{id}", produces = MediaType.APPLICATION_JSON_VALUE)    public ResponseEntity<Object> getDataById(Authentication authentication,            @PathVariable Long id    ) throws Exception {        return ResponseUtils.getResponseSucessEntity(workProcessService.getDataById(id, authentication));    }}